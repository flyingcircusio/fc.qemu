Release notes
=============


0.6.4 (2015-02-27)
------------------

- Tolerate "setup" as an intermediate migration status as encountered in the
  wild.


0.6.3 (2015-02-19)
------------------

- Improve pid file parser to deal correctly with trailing lines and empty pid
  files.
- Ensure that exceptions are properly logged if they occur directly after
  daemonizing (e.g., in Agent.__init__()) (#13867).


0.6.2 (2015-01-22)
------------------

- Relax PyYaml and psutil version requirements to accommodate to the Flying
  Circus managed platform.


0.6.1 (2015-01-22)
------------------

- Improve logging and error messages (#13867).
- Fix unwanted behaviour during error conditions (#13867).


0.6 (2015-01-15)
----------------

- Implement live migration. Use "inmigrate" and "outmigrate" commands
  to coordinate the process (#13229).
- Note that the qemu.cfg.in template has changed!
- Improve test coverage.


0.5.1 (2014-11-22)
------------------

- Bugfix: remove Ceph discard call since it seems to be unstable (#13414).
- Improve operability by reworking what is logged to fc-qemu.log.


0.5 (2014-11-21)
----------------

- Root filesystem shrink during VM start (#13414).
- Add 'force-unlock' action to break stale locks (e.g., after a VM host went
  down).


0.4.3 (2014-11-13)
------------------

- Read Qemu config file template from `/etc/qemu/qemu.vm.cfg.in`.
- Fix tests and documentation.


0.4.2 (2014-11-12)
------------------

- Rate limit entropy transfer from host to guest (#13751).
- Add 'restart' command to simplify VM restarts.


0.4.1 (2014-09-24)
------------------

- Do not require the PID to match the machine name for determining
  online status. This caused issues for VMs with names longer than 11
  characters: http://status.flyingcircus.io/incidents/3j8wsrszlx2w


0.4 (2014-09-16)
----------------

- Allow selecting the specific command line to call for creating a VM
  using a config file + formatting syntax.

- Add test coverage to show that we gracefully recover from crashed VMs
  upon a subsequent 'ensure'.

0.3 (2014-09-13)
----------------

- Refactor and rename to 'fc.qemu'.
  Integrate most functionality that was previously placed in our
  init scripts and localconfig (fc.agent) utilities.

- Add a lot of test coverage.


0.2.6 (2014-08-21)
------------------

- Fix incoming VM detection for an already locked _and_ started VM.


0.2.5 (2014-08-20)
------------------

* Implement a safety-belt to prohibit migrating VMs that have not
  yet been started with the supported /run/kvm.*.cfg.in format.

